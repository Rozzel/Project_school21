---
tag:
- C
- C/Указатели
---

Вызов по ссылке — это термин, используемый в программировании для описания ситуации, когда функция изменяет значения аргументов, которые ей передаются. Этот термин обычно используется в контексте языков программирования, которые поддерживают передачу параметров по ссылке, таких как C++, C# и Python.

В языке программирования C, который не поддерживает передачу параметров по ссылке напрямую, аналогичный эффект может быть достигнут с помощью **указателей**. При вызове функции вы можете передать адрес переменной, а затем внутри функции вы можете изменить значение по этому адресу. Вот пример функции, которая изменяет значение по переданному ей указателю:

```c
void increment(int *p) {
    (*p)++; // увеличиваем значение, на которое указывает p
}

int main() {
    int x = 5;
    increment(&x);
    // теперь x равно 6
    return 0;
}
```

В этом примере функция `increment` получает указатель на целочисленное значение. Она увеличивает значение, на которое указывает этот указатель, таким образом, изменяя оригинальную переменную, адрес которой был передан функции.

---

В C, функции не могут изменять значение аргументов, переданных по значению, но они могут возвращать новое значение. Если вы не хотите использовать указатели, вы можете реализовать функцию возведения в куб, которая возвращает новое значение, и затем присвоить это значение исходной переменной. 

Пример такой функции по значению:

```c
#include <stdio.h>

int cube(int num) {
    return num * num * num;
}

int main() {
    int num = 5;
    printf("Before cubing: %d\n", num);
    num = cube(num);
    printf("After cubing: %d\n", num);
    return 0;
}
```

Здесь, вместо того чтобы передавать указатель на переменную `num` в функцию `cube`, мы передаем само значение `num`. Функция `cube` возвращает куб этого значения, и это возвращаемое значение затем присваивается `num` в функции `main`. 

Пожалуйста, обратите внимание, что, хотя это технически "изменяет" значение `num` после вызова функции, сама функция `cube` не изменяет свои аргументы – она просто возвращает новое значение. Это различие между передачей по значению и передачей по ссылке (или по указателю) является важным аспектом понимания поведения функций в C.

---

Если вы хотите изменить значение переменной внутри функции, и затем вернуть это измененное значение в вызывающую функцию в C, вам придется использовать указатели, так как в C параметры передаются по значению, а не по ссылке.

Ниже приведен пример кода, в котором число возводится в куб с помощью функции, принимающей **указатель**:

```c
#include <stdio.h>

void cube(int *num) {
    *num = (*num) * (*num) * (*num);
}

int main() {
    int num = 5;
    printf("Before cubing: %d\n", num);
    cube(&num);
    printf("After cubing: %d\n", num);
    return 0;
}
```

В этом примере функция `cube` принимает указатель на `int`, затем изменяет значение, на которое указывает этот указатель, возводя его в куб. При вызове этой функции мы передаем адрес переменной `num` с помощью оператора `&`. Значение `num` изменяется в функции `cube`, и это изменение видно в функции `main`, так как `num` передается по ссылке.

Это позволяет нам возводить в куб переменные "на месте", без необходимости возвращать значение из функции.