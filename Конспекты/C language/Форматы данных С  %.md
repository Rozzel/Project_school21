---
tag:
- C
---
Функция scanf( ) (прототип содержится в файле stdio.h) обеспечивает форматированный ввод. Ее можно записать в следующем формальном виде:

 `scanf("управляющая строка", аргумент_1, аргумент_2,...);`

Аргументы scanf( ) должны быть указателями на соответствующие значения. Для этого перед именем переменной записывается символ &. Назначение указателей будет рассмотрено далее.

Управляющая строка содержит спецификации преобразования и используется для установления количества и типов аргументов. В нее могут включаться:

-   пробелы, символы табуляции и перехода на новую строку (все они игнорируются);

-   спецификации преобразования, состоящие из знака %, возможно, символа * (запрещение присваивания), возможно, числа, задающего максимальный размер поля, и самого символа преобразования;
-   обычные символы, кроме % (считается, что они должны совпадать с очередными неизвестными символами во входном потоке).

Рассмотрим символы преобразования функции scanf( )
---
(указываются после символа **%**)
**с** - на входе ожидается появление одиночного символа;

**d** или **i** - на входе ожидается десятичное целое число и аргумент является указателем на переменную типа int;

**D** или **l** - на входе ожидается десятичное целое число и аргумент является указателем на переменную типа long;

**е** или **Е** - на входе ожидается вещественное число с плавающей точкой;

**f** - на входе ожидается вещественное число с плавающей точкой;

**g** или **G** - на входе ожидается вещественное число с плавающей точкой;

**о** - на входе ожидается восьмеричное целое число и аргумент является указателем на переменную типа int;

**О** - на входе ожидается восьмеричное целое число и аргумент является указателем на переменную типа long;

**s** - на входе ожидается появление строки символов;

**х** - на входе ожидается шестнадцатеричное целое число и аргумент является указателем на переменную типа int;

**Х** - на входе ожидается шестнадцатеричное целое число и аргумент является указателем на переменную типа long;

**р** - на входе ожидается появление указателя в виде шестнадцатеричного числа;

**n** - применяется в операциях форматирования. Аргумент, соответствующий этому символу спецификации, должен быть указателем на целое. В него возвращается номер позиции (после ввода), в которой записана спецификация %n;

**u** - на входе ожидается беззнаковое целое число и аргумент является указателем на переменную типа unsigned int;

**U** - на входе ожидается беззнаковое целое число и аргумент является указателем на переменную типа unsigned long;

**[ ]** - сканирует входную строку для получения символов.

Перед некоторыми символами преобразования могут записываться следующие модификаторы:

**F** - изменяет указатель, заданный по умолчанию, на указатель типа far;

**N** - изменяет указатель, заданный по умолчанию, на указатель типа near;

**h** - преобразует аргумент к типу short int (может записываться перед символами d, i, о, u, х);

**l** - преобразует аргумент к типу long int (может записываться перед символами d, i, o, u, x);

**L** - преобразует аргумент к типу long double (может записываться перед символами е, f, g).

Ввести целое число (int a;), символ (char b;) и вещественное число (float t;) можно так:

```C
scanf("%d", &a);
scanf("%c", &b);
scanf("%d%c%f",&a, &b, &t);
```

Необязательные параметры в спецификации преобразования
---
1.  признак минус (-) указывает, что преобразованный параметр должен быть выровнен влево в своем поле;
2.  признак плюс (+) требует вывода результата со знаком;
3.  строка цифр, задающая минимальный размер поля (ширина поля). Здесь может так же использоваться символ *, который тоже позволяет задать минимальную ширину поля и точность представления выводимого числа;
4.  точка (.), отделяющая размер поля от последующей строки цифр;
5.  строка цифр, задающая максимальное число выводимых символов, или же количество цифр, выводимых справа от десятичной точки в значениях типов float или double (точность);
6.  символ F, определяющий указатель типа far;
7.  символ N, определяющий указатель типа near;
8.  символ h, определяющий аргумент типа short int (используется вместе с символами преобразования d, i, о, u, х, Х);
9.  символ l, указывающий, что соответствующий аргумент имеет тип long (в случае символов преобразования d, i, о, u, х, X) или double (в случае символов преобразования е, Е, f, g, G);
10.  символ L, указывающий, что соответствующий аргумент имеет тип long double (используется вместе с символами преобразований е, Е, f, g, G);
11.  символ #, который может встречаться перед символами преобразования g, f, е и перед символом х. В первом случае всегда будет выводиться десятичная точка, а во втором - префикс 0x перед соответствующим шестнадцатеричным числом.

Среди управляющих символьных констант наиболее часто используются следующие:
---
-   `\а` - для кратковременной подачи звукового сигнала;
-   `\b` - для перевода курсора влево на одну позицию;
-   `\f` - для подачи формата;
-   `\n` - для перехода на новую строку;
-   `\r` - для возврата каретки;
-   `\t` - горизонтальная табуляция;
-   `\v` - вертикальная табуляция;
-   `\\` - вывод символа \;
-   `\'` - вывод символа ' ;
-   `\"` - вывод символа ";
-   `\?` - вывод символа ?.
-   `\0` - символ конца строки используется в строковых функциях (strlen, strcat), в функциях вывода (sscanf, printf). Терминальный ноль позволяет определить, где заканчивается обрабатываемая строка. 
